---
layout: post
title: Começando com Clojure
tags: [funcional, clojure]
categories: [funcional, clojure]
---

<h2>O que é Clojure? </h2>
<p>Clojure é um dialeto de Lisp, que é uma linguagem de programação funcional. 
    Clojure roda na JVM (Java Virtual Machine), possui uma sintaxe um tanto 
    quanto peculiar e simples. Por poder ser executada na JVM, 
    programas escritos em Clojure pode fazer uso de bibliotecas Java.</p>

<h2>Mas o que é uma programação funcional?</h2>

<p>Programação funcional é um paradigma de programação, ou seja, é uma 
    forma de se programar. Este paradigma é baseado em um modelo computacional 
    chamado <i>Cálculo Lambda</i>, criado por Alonzo Church em 1930. 
    Em programação funcional tudo é função, ou seja, um código funcional é uma 
    sequência de funções que resolvem um problema.</p>

<h2>O início</h2>

<p>
Como dito anteriormente, Clojure possui uma sintaxe muito simples, porém que 
pode confundir muito <s>(me confundiu muito)</s> quem está começando no mundo de 
linguagens baseadas em Lisp. Abaixo como é escrito o código Clojure: 
</p>

{% highlight clojure %}
(operador operando1 operando2... operando)
{% endhighlight %}

<p>
Não entendeu? Então vamos ao exemplo. Suponhamos que você deseja realizar uma soma entre 5 números. </p>

<p>O que em Javascript poderíamos fazer assim:</p>

{% highlight javascript %}
let resultado = 3 + 7 + 8;
{% endhighlight %}

<p>Em Clojure fazemos assim: </p>
{% highlight clojure %}
(+ 3 7 8)
=> 18
{% endhighlight %}

<p>
No código acima o operador "+" soma os parâmetros 3, 7 e 8.
</p>

<p>Um outro exemplo utilizando o famoso Hello World, onde a <i>string</i> "Hello World" é passada como parâmetro para a função println: </p>

{% highlight clojure %}
(println "Hello World")
=> "Hello World"
{% endhighlight %}
<br/>
<h2>Nomeando valores</h2>

<p>Usa-se a instrução <b>def</b> para vincular o nome do símbolo a um valor. Exemplos: </p>

{% highlight clojure %}
(def texto "Iniciando com Clojure")
(def contas-pagas 100)
{% endhighlight %}

<p>Imprimindo os valores definidos: </p>
{% highlight clojure %}
(println texto)
=> "Iniciando com Clojure"

(println "Quantidade de contas pagas:"  contas-pagas)
=> "Quantidade de contas pagas: 100"
{% endhighlight %}

<br/>
<h2>Estruturas de dados</h2>

<p>Em Clojure todas as estruturas de dados são imutáveis, ou seja, seus valores não podem ser alterados. 

<h3>Números básicos</h3>

<p>Em Clojure podemos definir três tipos básicos de números, sendo eles Integer, Float ou fracionados. Exemplo: 

{% highlight clojure %}
(def numero-inteiro 10)
(def numero-ponto-flutuante 3.5)
(def numero-fracionado 10/3)
{% endhighlight %}

<h3>Strings</h3>

<p>Strings representam textos, assim como em outras linguagens de programação. Exemplo: </p>

{% highlight clojure %}
(def hobbit "Bilbo")
{% endhighlight %}

<h3>Mapas</h3>

<p>Mapas, assim como em outras linguagens de programação, são estruturas que armazenam chaves e valores. Abaixo algus exemplos de mapas em Clojure: </p>

{% highlight clojure %}
(def usuario {:nome "Guilherme" :idade 30})

(def funcao {"funcao-soma" +})
{% endhighlight %}

<p>Também é possível encadear mapas: </p>
{% highlight clojure %}
(def mapa {:nome "Guilherme" :endereco {:cidade "São Paulo" :rua "Rua Sete de Abril"}})
{% endhighlight %}

<p>Outra forma de criar mapas é através da função <b>hash-map</b>: </p>

{% highlight clojure %}
(def usuario (hash-map :nome "Guilherme" :cidade "São Paulo"))
{% endhighlight %}

<p>Para recuperar alguma informação do mapa, utilizamos a função <b>get</b>. Nela nós passamos o mapa e a keyword utilizada como chave para recuperar a informação desejada. Exemplo: </p>

{% highlight clojure %}
(get mapa :nome)
=> "Guilherme"
{% endhighlight %}

<br/>
<div class="message">
<p><i>Keywors são geralmente utilizadas como chaves em mapas no Clojure. No exemplo anterior, <b>:nome</b> é uma keyword. </i></p>
</div>

<h3>Vetores</h3>
<p> Um vetor é como um array em linguagens mais comuns, onde o index começa no 0. Definindo um símbolo como vetor: 

(def numeros [3 2 1])

<p>Recuperando item do vetor de acordo com o índice: </p>
{% highlight clojure %}
(get numeros 2)
=> 1
{% endhighlight %}

<p>Também é possível criar vetores utilizando a função <b>vector</b></p>

{% highlight clojure %}
(def empresas (vector "Apple" "Microsoft" "Samsung"))

(get empresas 1)
=> "Microsoft"
{% endhighlight %}

<h3>Listas</h3>

<p>Listas são parecidas com vetores em Clojure, porém com algumas diferenças. Por exemplo, para recuperar algum item de acordo com a posição da lista, usa-se a função <b>nth</b> e não a função <b>get</b>. Para declarar uma lista, basta definir os itens da lista entre parênteres e colocar um apóstrofo no início. Exemplo: </p>

{% highlight clojure %}
(def numeros '(1 2 3 4))
(def estados '("SP" "RJ" "RS" "PR"))

(nth estados 2)
=> "RS"
{% endhighlight %}

<p>Levando em consideração a performance, a função <b>get</b> é mais rápida que a <b>nth</b>, pois a <b>nth</b> passa por todos os elementos da lista para encontrar o item buscado.</p>

<p>Também é possível criar listas utilizando a função <b>list</b>:</p>

{% highlight clojure %}
(def numeros (list 1 2 3 4))
{% endhighlight %}

<h3>Sets</h3>

<p>Sets são coleções em que os itens são únicos, ou seja, não podem se repetir. Em Clojure temos duas formas de criar um Set: </p>

<p>Forma literal: </p>
{% highlight clojure %}
(def produtos #{"Refrigerante" "Carne" "Arroz"})
{% endhighlight %}

<p>Utilizando a função <b>hash-set</b>: </p>
{% highlight clojure %}
(def produtos (hash-set "Refrigerante" "Carne" "Arroz"))
{% endhighlight %}

<p>Podemos inclusive transformar um vetor em um set: </p>
{% highlight clojure %}
(set [2 2 5 6 5 1 1])
=> #{1 6 2 5}
{% endhighlight %}

<p>Por enquanto é isso. Quem sabe nos vemos em um próximo post. :)</p>
<br/>
<hr/>
